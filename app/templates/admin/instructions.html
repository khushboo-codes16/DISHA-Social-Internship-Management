{% extends "admin/base.html" %}

{% block title %}Manage Instructions{% endblock %}
{% block page_title %}рдкрд░рд┐рд╡реАрдХреНрд╖рд╛ рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢{% endblock %}
{% block page_subtitle %}Manage Student Instructions{% endblock %}

{% block admin_content %}
<div class="max-w-5xl mx-auto">
    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
        <div class="bg-gradient-to-r from-blue-600 to-purple-600 p-6">
            <h2 class="text-2xl font-bold text-white flex items-center">
                <i class="fas fa-book-open mr-3"></i>
                Edit Instructions for Students
            </h2>
            <p class="text-blue-100 mt-2">Update the instructions that students will see and download</p>
        </div>

        {% if not instruction %}
        <div class="p-8 bg-yellow-50 border-l-4 border-yellow-400">
            <div class="flex items-center">
                <i class="fas fa-exclamation-triangle text-yellow-600 text-2xl mr-3"></i>
                <div>
                    <h3 class="font-bold text-yellow-800">No Instructions Found</h3>
                    <p class="text-yellow-700 text-sm">Create new instructions using the form below. You can use the template buttons to get started quickly.</p>
                </div>
            </div>
        </div>
        {% endif %}

        <form method="POST" class="p-8">
            <div class="mb-6">
                <label for="title" class="block text-sm font-semibold text-gray-700 mb-2">
                    <i class="fas fa-heading text-blue-600 mr-2"></i>Title
                </label>
                <input type="text" id="title" name="title" 
                       value="{{ instruction.title if instruction else 'рдкрд░рд┐рд╡реАрдХреНрд╖рд╛ рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢' }}"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                       placeholder="Enter title in Hindi or English">
            </div>

            <div class="mb-6">
                <div class="flex items-center justify-between mb-2">
                    <label for="content" class="block text-sm font-semibold text-gray-700">
                        <i class="fas fa-file-alt text-blue-600 mr-2"></i>Instructions Content
                    </label>
                    <div class="flex gap-2">
                        <button type="button" onclick="loadDefaultHindi()" 
                                class="px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200">
                            <i class="fas fa-language mr-1"></i>Load Hindi Template
                        </button>
                        <button type="button" onclick="loadDefaultEnglish()" 
                                class="px-3 py-1 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200">
                            <i class="fas fa-language mr-1"></i>Load English Template
                        </button>
                    </div>
                </div>
                <textarea id="content" name="content" rows="20"
                          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-base">{{ instruction.content if instruction else '' }}</textarea>
                <p class="text-sm text-gray-500 mt-2">
                    <i class="fas fa-info-circle mr-1"></i>
                    You can use emojis (ЁЯУШ, 1я╕ПтГг, 2я╕ПтГг, etc.) and line breaks for better formatting.
                </p>
            </div>

            <div class="flex items-center justify-between pt-6 border-t border-gray-200">
                <div class="text-sm text-gray-600">
                    {% if instruction %}
                    Last updated: {{ instruction.updated_at.strftime('%d %B, %Y') if instruction.updated_at else 'Never' }}
                    {% endif %}
                </div>
                <div class="flex gap-3">
                    <a href="{{ url_for('admin.dashboard') }}" 
                       class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">
                        Cancel
                    </a>
                    <button type="submit" 
                            class="px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700">
                        <i class="fas fa-save mr-2"></i>Save Instructions
                    </button>
                </div>
            </div>
        </form>
    </div>

    {% if instruction %}
    <div class="bg-white rounded-xl shadow-lg overflow-hidden mt-8">
        <div class="bg-gray-100 p-4 border-b border-gray-200">
            <h3 class="text-lg font-bold text-gray-800">Preview</h3>
        </div>
        <div class="p-8">
            <h2 class="text-2xl font-bold text-blue-800 mb-6 text-center">{{ instruction.title }}</h2>
            <pre class="whitespace-pre-wrap font-sans text-gray-700 leading-relaxed">{{ instruction.content }}</pre>
        </div>
    </div>
    {% endif %}

    <!-- Help Section -->
    <div class="bg-blue-50 rounded-xl p-6 mt-8 border border-blue-200">
        <h3 class="text-lg font-bold text-blue-800 mb-4 flex items-center">
            <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
            Tips for Writing Instructions
        </h3>
        <ul class="space-y-2 text-gray-700">
            <li class="flex items-start">
                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                <span>Use clear and simple language that students can easily understand</span>
            </li>
            <li class="flex items-start">
                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                <span>Include emojis (ЁЯУШ, 1я╕ПтГг, 2я╕ПтГг, etc.) to make it more engaging</span>
            </li>
            <li class="flex items-start">
                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                <span>Organize content with proper headings and sections</span>
            </li>
            <li class="flex items-start">
                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                <span>Students can download these instructions as an HTML file</span>
            </li>
        </ul>
    </div>
</div>

<script>
function loadDefaultHindi() {
    const hindiTemplate = `рдкрд░рд┐рд╡реАрдХреНрд╖рд╛ рдкрд╛рдареНрдпрдХреНрд░рдо

рдкрд░рд┐рд╡реАрдХреНрд╖рд╛ (рдЗрдВрдЯрд░рдирд╢рд┐рдк) рдХреЛ рд╕рд░реНрд╡рд╛рдВрдЧрдкреВрд░реНрдг рдПрд╡рдВ рдкреНрд░рднрд╛рд╡реА рдмрдирд╛рдиреЗ рд╣реЗрддреБ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП рдкрд╛рдареНрдпрдХреНрд░рдо рдХрд╛ рдЕрддреНрдпрдзрд┐рдХ рдорд╣рддреНрд╡ рд╣реИред рдпрд╣ рдЫрд╛рддреНрд░реЛрдВ рдХреЗ рдорд╛рдирд╕рд┐рдХ, рдмреМрджреНрдзрд┐рдХ, рд╕рд╛рдорд╛рдЬрд┐рдХ рддрдерд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╡рд┐рдХрд╛рд╕ рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдпреЛрдЧрджрд╛рди рдФрд░ рдкреНрд░рднрд╛рд╡ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

ЁЯУШ рдкрд╛рдареНрдпрдХреНрд░рдо

1я╕ПтГг рд╕рдВрдЧреАрдд тАУ рд╕рдВрд╕реНрдерд╛рдЧрдд рдЧреАрдд, рдкреНрд░рд╕реНрддреБрддрд┐ рддрдерд╛ рдкреНрд░рд╛рд░реНрдердирд╛ рдЧреАрддреЛрдВ рдХрд╛ рдЧрд╛рдпрдиред

2я╕ПтГг рдХрд╛рд░реНрдпрд╢рд╛рд▓рд╛ тАУ рдЧреГрд╣рдХрд╛рд░реНрдп рдкреНрд░рдпреЛрдЧ, рджреАрдкрдпрдЬреНрдЮ, рдпрдЬреНрдЮ рд╕рд╣рднрд╛рдЧ, рд▓реЛрдХрд╕реЗрд╡рд╛ рд╕рдиреНрджрд░реНрднреЛрдВ рдХрд╛ рдкреНрд░рд╢рд┐рдХреНрд╖рдгред

3я╕ПтГг рдЖрдзреНрдпрд╛рддреНрдорд┐рдХрддрд╛ тАУ рдзреНрдпрд╛рди, рдкреНрд░рд╛рдгрд╛рдпрд╛рдо, рджрд┐рдирдЪрд░реНрдпрд╛, рдорд╛рдирд╕рд┐рдХ рдПрдХрд╛рдЧреНрд░рддрд╛, рдирдХрд╛рд░рд╛рддреНрдордХ рдКрд░реНрдЬрд╛ рдирд┐рдпрдВрддреНрд░рдгред

4я╕ПтГг рд╕реНрд╡рд╛рд╕реНрдереНрдп тАУ рдкреНрд░рд╛рдХреГрддрд┐рдХ рдЪрд┐рдХрд┐рддреНрд╕рд╛ рдПрд╡рдВ рдпреЛрдЧ, рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╡рд┐рднрд╛рдЬрди рдПрд╡рдВ рдЖрдХрд╕реНрдорд┐рдХ рдЪрд┐рдХрд┐рддреНрд╕рд╛ред

5я╕ПтГг рдпреЛрдЧ тАУ рдпреЛрдЧ рдЕрднреНрдпрд╛рд╕, рдпреЛрдЧ рд╕рд┐рджреНрдзрд╛рдиреНрдд, рдпреЛрдЧ рджрд┐рдирдЪрд░реНрдпрд╛, рд╢рд╛рд░реАрд░рд┐рдХ рд╡реНрдпрд╛рдпрд╛рдо, рд╕реВрд░реНрдп рдирдорд╕реНрдХрд╛рд░ред

6я╕ПтГг рдХреМрд╢рд▓ рд╡рд┐рдХрд╛рд╕ тАУ рдкреНрд░рд╛рдердорд┐рдХ рдЪрд┐рдХрд┐рддреНрд╕рд╛, рдПрдХреНрдпреВрдкреНрд░реЗрд╕рд░, рдореБрджреНрд░рд╛ рдЪрд┐рдХрд┐рддреНрд╕рд╛ред

ЁЯУШ рдкрд░рд┐рд╡реАрдХреНрд╖рд╛ рдХрд╛рд░реНрдп рдпреЛрдЬрдирд╛

тАв рдпрдЬреНрдЮ, рджреАрдкрдпрдЬреНрдЮ, рдпреЛрдЧ, рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдХреЗ рдХрд╛рд░реНрдпрдХреНрд░рдо рд╕рдВрдкрдиреНрди рдХрд░рд╛рдирд╛ред
тАв рд╡рд┐рджреНрдпрд╛рд▓рдп, рд╡рд┐рд╢реНрд╡рд╡рд┐рджреНрдпрд╛рд▓рдп рдЖрджрд┐ рд╕рдВрд╕реНрдерд╛рдиреЛрдВ рдореЗрдВ рдпреЛрдЧ рдХрд╛рд░реНрдпрдХреНрд░рдоред
тАв рд╕реНрд╡рдЪреНрдЫрддрд╛ рдЕрднрд┐рдпрд╛рди рдФрд░ рд╕рд╛рдорд╛рдЬрд┐рдХ рд╕реЗрд╡рд╛ рдХрд╛рд░реНрдпрдХреНрд░рдоред
тАв рдпреБрд╡рд╛ рд╕рд╛рд╣рд┐рддреНрдп рд╕рдореНрдореЗрд▓рди рдПрд╡рдВ рдЕрдзреНрдпрдпрдиред
тАв рд╕реНрд╡рд╛рд╕реНрдереНрдп рдПрд╡рдВ рдпреЛрдЧ рд╢рд┐рд╡рд┐рд░ рдХреЗ рдЖрдпреЛрдЬрди рдореЗрдВ рд╕рд╣рдпреЛрдЧред

ЁЯУШ рд╕рд╛рдорд╛рдиреНрдп рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢

тАв рд╕рдордп рдХрд╛ рд╕рджреБрдкрдпреЛрдЧ рдХрд░реЗрдВред
тАв рд╢рд┐рд╖реНрдЯрд╛рдЪрд╛рд░ рдФрд░ рдордзреБрд░ рднрд╛рд╖рд╛ рдХрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВред
тАв рд╕рд╛рджрдЧреА рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред
тАв рд╕рдордп рдкрд░ рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдВред
тАв рдпрд╛рддреНрд░рд╛ рдХреЗ рджреМрд░рд╛рди рдЕрдиреБрд╢рд╛рд╕рди рдмрдирд╛рдП рд░рдЦреЗрдВред

ЁЯУШ рд▓рд╛рдиреЗ рдпреЛрдЧреНрдп рд╡рд╕реНрддреБрдПрдБ

тАв рд╢рд╛рд▓, рдЬреВрддреЗ, рдмрд░реНрддрди
тАв рдкреБрд╕реНрддрдХреЗрдВ, рдиреЛрдЯрдмреБрдХ, рд╕реНрдЯреЗрд╢рдирд░реА
тАв рд╡рд░реНрджреА
тАв рджреИрдирдВрджрд┐рди рд╡рд╕реНрддреБрдПрдБ

---
рджреЗрд╡ рд╕рдВрд╕реНрдХреГрддрд┐ рд╡рд┐рд╢реНрд╡рд╡рд┐рджреНрдпрд╛рд▓рдп, рд╣рд░рд┐рджреНрд╡рд╛рд░
DISHA Social Internship Program`;
    
    document.getElementById('content').value = hindiTemplate;
}

function loadDefaultEnglish() {
    const englishTemplate = `Internship Curriculum

The internship (Pariviksha) curriculum is of utmost importance for making the program comprehensive and effective. It provides significant contribution to students' mental, intellectual, social, and personal development.

ЁЯУШ Curriculum

1я╕ПтГг Music тАУ Institutional songs, presentations, and prayer songs.

2я╕ПтГг Workshop тАУ Home practice, lamp ceremony, yajna participation, community service training.

3я╕ПтГг Spirituality тАУ Meditation, pranayama, daily routine, mental concentration, negative energy control.

4я╕ПтГг Health тАУ Natural medicine and yoga, health division and emergency treatment.

5я╕ПтГг Yoga тАУ Yoga practice, yoga principles, yoga routine, physical exercise, sun salutation.

6я╕ПтГг Skill Development тАУ First aid, acupressure, mudra therapy.

ЁЯУШ Internship Work Plan

тАв Organize programs for yajna, lamp ceremony, yoga, and lectures.
тАв Yoga programs in schools, universities, and other institutions.
тАв Cleanliness campaigns and social service programs.
тАв Youth literature conferences and studies.
тАв Assistance in organizing health and yoga camps.

ЁЯУШ General Guidelines

тАв Use time wisely.
тАв Use courtesy and sweet language.
тАв Follow simplicity.
тАв Report on time.
тАв Maintain discipline during travel.

ЁЯУШ Items to Bring

тАв Shawl, shoes, utensils
тАв Books, notebooks, stationery
тАв Uniform
тАв Daily essentials

---
Dev Sanskriti Vishwavidyalaya, Haridwar
DISHA Social Internship Program`;
    
    document.getElementById('content').value = englishTemplate;
}
</script>
{% endblock %}
